# Vertaal django.po naar Nederlands

## ## django.po bestand: $ARGUMENTS

flowchart TD
    Start([Start: Django.po vertaling]) --> Receive["Ontvang django.po bestand"]
    
    Receive --> CreateBackup["Maak backup van django.po<br/>naar django.po-backup"]
    
    CreateBackup --> BackupCheck{"Backup succesvol<br/>aangemaakt?"}
    
    BackupCheck -->|Nee| BackupError["Fout: Kan geen backup maken"]
    BackupError --> End([Einde: Proces afgebroken])
    
    BackupCheck -->|Ja| PrepareProcessing["Bereid verwerking voor:<br/>Verdeel bestand in blokken<br/>van max 100 regels<br/>met 10 regels overlap"]
    
    PrepareProcessing --> CalculateBlocks["Bereken totaal aantal blokken<br/>Verdeel over 10 sub-agents"]
    
    CalculateBlocks --> StartAgents["Start 10 sub-agents<br/>voor parallelle verwerking"]
    
    StartAgents --> Agent1["Sub-agent 1<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent2["Sub-agent 2<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent3["Sub-agent 3<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent4["Sub-agent 4<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent5["Sub-agent 5<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent6["Sub-agent 6<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent7["Sub-agent 7<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent8["Sub-agent 8<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent9["Sub-agent 9<br/>Verwerk toegewezen blokken"]
    StartAgents --> Agent10["Sub-agent 10<br/>Verwerk toegewezen blokken"]
    
    Agent1 --> ProcessAgent1{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent2 --> ProcessAgent2{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent3 --> ProcessAgent3{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent4 --> ProcessAgent4{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent5 --> ProcessAgent5{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent6 --> ProcessAgent6{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent7 --> ProcessAgent7{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent8 --> ProcessAgent8{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent9 --> ProcessAgent9{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    Agent10 --> ProcessAgent10{{"Voor elk blok:<br/>- Check fuzzy<br/>- Check lege vertalingen<br/>- Verwijder #~ regels<br/>- Vertaal naar NL<br/>- Sla op als block-X"}}
    
    ProcessAgent1 --> WaitForAll["Wacht tot alle sub-agents klaar zijn"]
    ProcessAgent2 --> WaitForAll
    ProcessAgent3 --> WaitForAll
    ProcessAgent4 --> WaitForAll
    ProcessAgent5 --> WaitForAll
    ProcessAgent6 --> WaitForAll
    ProcessAgent7 --> WaitForAll
    ProcessAgent8 --> WaitForAll
    ProcessAgent9 --> WaitForAll
    ProcessAgent10 --> WaitForAll
    
    WaitForAll --> AllComplete{"Alle sub-agents<br/>voltooid?"}
    
    AllComplete -->|Nee| CheckTimeout{"Timeout<br/>bereikt?"}
    CheckTimeout -->|Ja| HandleTimeout["Identificeer hangende agents<br/>Herverdeel werk"]
    HandleTimeout --> WaitForAll
    CheckTimeout -->|Nee| WaitForAll
    
    AllComplete -->|Ja| PlayAudio["Speel audio bestand af:<br/>.claude/audio/ready.mp3"]
    
    PlayAudio --> AudioCheck{"Audio afgespeeld?"}
    
    AudioCheck -->|Nee| AudioRetry["Probeer audio opnieuw"]
    AudioRetry --> PlayAudio
    
    AudioCheck -->|Ja| MergeBlocks["Voeg alle blokken samen<br/>in juiste volgorde<br/>Verwijder dubbele regels door overlap"]
    
    MergeBlocks --> WriteFile["Schrijf samengevoegd resultaat<br/>over originele django.po"]
    
    WriteFile --> WriteCheck{"Bestand succesvol<br/>overschreven?"}
    
    WriteCheck -->|Nee| WriteError["Fout bij wegschrijven"]
    WriteError --> RestoreBackup["Herstel vanaf backup"]
    RestoreBackup --> End
    
    WriteCheck -->|Ja| AskUser["Vraag gebruiker:<br/>Is de vertaling akkoord?"]
    
    AskUser --> UserResponse{"Gebruiker<br/>bevestigt?"}
    
    UserResponse -->|Nee| KeepBackup["Behoud backup voor<br/>eventuele correcties"]
    KeepBackup --> EndWithBackup([Einde: Vertaling voltooid<br/>Backup behouden])
    
    UserResponse -->|Ja| DeleteBackup["Verwijder django.po-backup"]
    
    DeleteBackup --> DeleteCheck{"Backup succesvol<br/>verwijderd?"}
    
    DeleteCheck -->|Nee| DeleteWarning["Waarschuwing:<br/>Backup kon niet worden verwijderd"]
    DeleteWarning --> EndWithWarning([Einde: Vertaling voltooid<br/>Backup handmatig verwijderen])
    
    DeleteCheck -->|Ja| Success([Einde: Vertaling succesvol<br/>Backup verwijderd])
    
    style Start fill:#90EE90
    style Success fill:#90EE90
    style EndWithBackup fill:#87CEEB
    style EndWithWarning fill:#FFE4B5
    style End fill:#FF6B6B
    style StartAgents fill:#FFB6C1
    style WaitForAll fill:#FFB6C1
    style BackupCheck fill:#FFE4B5
    style AllComplete fill:#FFE4B5
    style CheckTimeout fill:#FFE4B5
    style AudioCheck fill:#FFE4B5
    style WriteCheck fill:#FFE4B5
    style UserResponse fill:#FFE4B5
    style DeleteCheck fill:#FFE4B5
    style ProcessAgent1 fill:#E6E6FA
    style ProcessAgent2 fill:#E6E6FA
    style ProcessAgent3 fill:#E6E6FA
    style ProcessAgent4 fill:#E6E6FA
    style ProcessAgent5 fill:#E6E6FA
    style ProcessAgent6 fill:#E6E6FA
    style ProcessAgent7 fill:#E6E6FA
    style ProcessAgent8 fill:#E6E6FA
    style ProcessAgent9 fill:#E6E6FA
    style ProcessAgent10 fill:#E6E6FA
